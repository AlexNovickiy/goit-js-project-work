{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/render-functions.js","../src/js/handlers.js","../src/js/artists-api.js","../src/js/mobile-menu.js","../src/js/artists-section.js"],"sourcesContent":["export const refs = {\n  burgerBtnOpenMenu: document.querySelector('.icon-burger'),\n  burgerBtnCloseMenu: document.querySelector('.icon-close'),\n  headerMenuContainer: document.querySelector('.header-menu-container'),\n  menuAnchorAbout: document.querySelector('#menu-anchor-about'),\n  menuAnchorArtists: document.querySelector('#menu-anchor-artists'),\n  menuAnchorReviews: document.querySelector('#menu-anchor-reviews'),\n  artistsGrid: document.getElementById('artists-card-id'),\n  loadMoreBtn: document.getElementById('load-more-btn'),\n};\n","export function renderArtistCards(artists, container) {\n  const markup = artists\n    .map(artist => {\n      const image =\n        artist.strArtistThumb ||\n        'https://via.placeholder.com/350x350?text=No+Image';\n      const genres =\n        artist.genres\n          ?.map(genre => `<li class=\"genre-tag\">${genre}</li>`)\n          .join('') || '';\n      const bio =\n        artist.strBiographyEN || 'Короткий опис для цього артиста відсутній.';\n\n      return `\n        <li class=\"artist-card\">\n          <img src=\"${image}\" alt=\"${artist.strArtist}\" class=\"artist-card-image\" />\n          <div class=\"artist-card-content\">\n            <ul class=\"artist-card-genres\">${genres}</ul>\n            <h3 class=\"artist-card-name\">${artist.strArtist}</h3>\n            <p class=\"artist-card-description\">${bio}</p>\n            <button id=\"learn-more-btn\" class=\"artist-card-link\" data-artist-id=\"${artist._id}\">Learn More <svg class=\"icon-lernmore\" width=\"24\" height=\"24\">\n      <use href=\"./img/sprite.svg#icon-caret-arrow-artist-right\"></use>\n    </svg></button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  container.insertAdjacentHTML('beforeend', markup);\n}\n","import { refs } from './refs.js';\n\nexport function onBtnOpenMenuClick() {\n  refs.headerMenuContainer.classList.add('is-open');\n  window.addEventListener('resize', onWindowResizeCloseMenu);\n\n  refs.menuAnchorAbout.addEventListener('click', onBtnCloseMenuClick);\n  refs.menuAnchorArtists.addEventListener('click', onBtnCloseMenuClick);\n  refs.menuAnchorReviews.addEventListener('click', onBtnCloseMenuClick);\n}\n\nexport function onBtnCloseMenuClick() {\n  refs.headerMenuContainer.classList.remove('is-open');\n  window.removeEventListener('resize', onWindowResizeCloseMenu);\n\n  refs.menuAnchorAbout.removeEventListener('click', onBtnCloseMenuClick);\n  refs.menuAnchorArtists.removeEventListener('click', onBtnCloseMenuClick);\n  refs.menuAnchorReviews.removeEventListener('click', onBtnCloseMenuClick);\n}\n\nfunction onWindowResizeCloseMenu() {\n  if (window.innerWidth >= 768) {\n    refs.headerMenuContainer.classList.remove('is-open');\n    window.removeEventListener('resize', onWindowResizeCloseMenu);\n  }\n}\n","import axios from 'axios';\nimport izitoast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst limit = 8; // default limit for pagination\n\nconst API_BASE_URL = 'https://sound-wave.b.goit.study/api';\nconst API_ARTISTS_ENDPOINT = `/artists`;\nconst API_GENRES_ENDPOINT = `/genres`;\nconst API_ARTISTS_ALBUMS_ENDPOINT = `/albums`;\nconst API_FEEDBACKS_ENDPOINT = `/feedbacks`;\n\nexport async function getArtists(\n  page = 1,\n  name = '',\n  sortName = '',\n  genre = ''\n) {\n  const params = {\n    limit,\n    page,\n    ...(name && { name }),\n    ...(sortName && { sortName }),\n    ...(genre && { genre }),\n  };\n  try {\n    const response = await axios.get(`${API_BASE_URL}${API_ARTISTS_ENDPOINT}`, {\n      params,\n    });\n    izitoast.success({\n      title: 'Success',\n      message: 'Artists fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch artists.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function getGenres() {\n  try {\n    const response = await axios.get(`${API_BASE_URL}${API_GENRES_ENDPOINT}`);\n    izitoast.success({\n      title: 'Success',\n      message: 'Genres fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch genres.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function getAlbumsByArtist(artistId) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}${API_ARTISTS_ENDPOINT}/${artistId}${API_ARTISTS_ALBUMS_ENDPOINT}`\n    );\n    izitoast.success({\n      title: 'Success',\n      message: 'Albums fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch albums.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function getArtistById(artistId) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}${API_ARTISTS_ENDPOINT}/${artistId}`\n    );\n    izitoast.success({\n      title: 'Success',\n      message: 'Artist fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch artist.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function getFeedbacks(page = 1) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}${API_FEEDBACKS_ENDPOINT}`,\n      {\n        params: { page },\n      }\n    );\n    izitoast.success({\n      title: 'Success',\n      message: 'Feedbacks fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch feedbacks.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function postFeedback(feedback) {\n  try {\n    const response = await axios.post(\n      `${API_BASE_URL}${API_FEEDBACKS_ENDPOINT}`,\n      feedback\n    );\n    izitoast.success({\n      title: 'Success',\n      message: 'Feedback submitted successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to submit feedback.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function fetchArtists(page, limit) {\n  try {\n    const response = await axios.get(`${API_BASE_URL}${API_ARTISTS_ENDPOINT}`, {\n      params: { page, limit },\n    });\n    return response.data.artists || [];\n  } catch (error) {\n    console.error('Не вдалося завантажити артистів:', error);\n    return [];\n  }\n}\n","import { refs } from './refs.js';\nimport { onBtnOpenMenuClick, onBtnCloseMenuClick } from './handlers';\n\nrefs.burgerBtnOpenMenu.addEventListener('click', onBtnOpenMenuClick);\nrefs.burgerBtnCloseMenu.addEventListener('click', onBtnCloseMenuClick);\n","import { fetchArtists } from './artists-api';\nimport { renderArtistCards } from './render-functions';\nimport { refs } from './refs';\n\nlet currentPage = 1;\nconst perPage = 8;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const artistsGrid = refs.artistsGrid;\n  const loadMoreBtn = refs.loadMoreBtn;\n\n  async function loadMoreArtists() {\n    loadMoreBtn.disabled = true;\n\n    const spinner = document.getElementById('spinner');\n    spinner.classList.remove('hidden');\n\n    const artists = await fetchArtists(currentPage, perPage);\n\n    spinner.classList.add('hidden');\n\n    if (artists.length > 0) {\n      renderArtistCards(artists, artistsGrid);\n      currentPage++;\n      if (artists.length < perPage) {\n        loadMoreBtn.style.display = 'none';\n      } else {\n        loadMoreBtn.style.display = 'flex';\n      }\n    } else {\n      loadMoreBtn.style.display = 'none';\n    }\n\n    loadMoreBtn.disabled = false;\n  }\n\n  loadMoreBtn.addEventListener('click', loadMoreArtists);\n\n  loadMoreArtists();\n});\n"],"names":["refs","renderArtistCards","artists","container","markup","artist","image","genres","_a","genre","bio","onBtnOpenMenuClick","onWindowResizeCloseMenu","onBtnCloseMenuClick","API_BASE_URL","API_ARTISTS_ENDPOINT","fetchArtists","page","limit","axios","error","currentPage","perPage","artistsGrid","loadMoreBtn","loadMoreArtists","spinner"],"mappings":"svBAAO,MAAMA,EAAO,CAClB,kBAAmB,SAAS,cAAc,cAAc,EACxD,mBAAoB,SAAS,cAAc,aAAa,EACxD,oBAAqB,SAAS,cAAc,wBAAwB,EACpE,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,kBAAmB,SAAS,cAAc,sBAAsB,EAChE,kBAAmB,SAAS,cAAc,sBAAsB,EAChE,YAAa,SAAS,eAAe,iBAAiB,EACtD,YAAa,SAAS,eAAe,eAAe,CACtD,ECTO,SAASC,EAAkBC,EAASC,EAAW,CACpD,MAAMC,EAASF,EACZ,IAAIG,GAAU,OACb,MAAMC,EACJD,EAAO,gBACP,oDACIE,IACJC,EAAAH,EAAO,SAAP,YAAAG,EACI,IAAIC,GAAS,yBAAyBA,CAAK,SAC5C,KAAK,MAAO,GACXC,EACJL,EAAO,gBAAkB,6CAE3B,MAAO;AAAA;AAAA,sBAESC,CAAK,UAAUD,EAAO,SAAS;AAAA;AAAA,6CAERE,CAAM;AAAA,2CACRF,EAAO,SAAS;AAAA,iDACVK,CAAG;AAAA,mFAC+BL,EAAO,GAAG;AAAA;AAAA;AAAA;AAAA;AAAA,OAM7F,CAAK,EACA,KAAK,EAAE,EAEVF,EAAU,mBAAmB,YAAaC,CAAM,CAClD,CC5BO,SAASO,GAAqB,CACnCX,EAAK,oBAAoB,UAAU,IAAI,SAAS,EAChD,OAAO,iBAAiB,SAAUY,CAAuB,EAEzDZ,EAAK,gBAAgB,iBAAiB,QAASa,CAAmB,EAClEb,EAAK,kBAAkB,iBAAiB,QAASa,CAAmB,EACpEb,EAAK,kBAAkB,iBAAiB,QAASa,CAAmB,CACtE,CAEO,SAASA,GAAsB,CACpCb,EAAK,oBAAoB,UAAU,OAAO,SAAS,EACnD,OAAO,oBAAoB,SAAUY,CAAuB,EAE5DZ,EAAK,gBAAgB,oBAAoB,QAASa,CAAmB,EACrEb,EAAK,kBAAkB,oBAAoB,QAASa,CAAmB,EACvEb,EAAK,kBAAkB,oBAAoB,QAASa,CAAmB,CACzE,CAEA,SAASD,GAA0B,CAC7B,OAAO,YAAc,MACvBZ,EAAK,oBAAoB,UAAU,OAAO,SAAS,EACnD,OAAO,oBAAoB,SAAUY,CAAuB,EAEhE,CCnBA,MAAME,EAAe,sCACfC,EAAuB,WA2ItB,eAAeC,EAAaC,EAAMC,EAAO,CAC9C,GAAI,CAIF,OAHiB,MAAMC,EAAM,IAAI,GAAGL,CAAY,GAAGC,CAAoB,GAAI,CACzE,OAAQ,CAAE,KAAAE,EAAM,MAAAC,CAAO,CAC7B,CAAK,GACe,KAAK,SAAW,EACjC,OAAQE,EAAO,CACd,eAAQ,MAAM,mCAAoCA,CAAK,EAChD,EACR,CACH,CCzJApB,EAAK,kBAAkB,iBAAiB,QAASW,CAAkB,EACnEX,EAAK,mBAAmB,iBAAiB,QAASa,CAAmB,ECArE,IAAIQ,EAAc,EAClB,MAAMC,EAAU,EAEhB,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAcvB,EAAK,YACnBwB,EAAcxB,EAAK,YAEzB,eAAeyB,GAAkB,CAC/BD,EAAY,SAAW,GAEvB,MAAME,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAU,OAAO,QAAQ,EAEjC,MAAMxB,EAAU,MAAMc,EAAaK,EAAaC,CAAO,EAEvDI,EAAQ,UAAU,IAAI,QAAQ,EAE1BxB,EAAQ,OAAS,GACnBD,EAAkBC,EAASqB,CAAW,EACtCF,IACInB,EAAQ,OAASoB,EACnBE,EAAY,MAAM,QAAU,OAE5BA,EAAY,MAAM,QAAU,QAG9BA,EAAY,MAAM,QAAU,OAG9BA,EAAY,SAAW,EACxB,CAEDA,EAAY,iBAAiB,QAASC,CAAe,EAErDA,GACF,CAAC"}