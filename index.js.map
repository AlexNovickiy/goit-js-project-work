{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/artists-api.js","../src/js/feedback-modal.js","../src/img/sprite.svg?url","../src/js/render-functions.js","../src/js/handlers.js","../src/js/mobile-menu.js","../src/js/artists-section.js"],"sourcesContent":["export const refs = {\n  burgerBtnOpenMenu: document.querySelector('.icon-burger'),\n  burgerBtnCloseMenu: document.querySelector('.icon-close'),\n  headerMenuContainer: document.querySelector('.header-menu-container'),\n  loaderOverlay: document.querySelector('.loader-in'),\n  modalForm: document.querySelector('.feedback-mod'),\n  stars: document.querySelectorAll('.star-rating path'),\n  nameInput: document.querySelector('.feedback-mod [name=\"name\"]'),\n  messageInput: document.querySelector('.feedback-mod [name=\"message\"]'),\n  modalOverlay: document.querySelector('.modal-overlay'),\n  closeBtn: document.querySelector('.close-btn-mod'),\n  feedbackBtn: document.querySelector('.feedback-btn'),\n  menuAnchorAbout: document.querySelector('#menu-anchor-about'),\n  menuAnchorArtists: document.querySelector('#menu-anchor-artists'),\n  menuAnchorReviews: document.querySelector('#menu-anchor-reviews'),\n  artistsGrid: document.getElementById('artists-card-id'),\n  loadMoreBtn: document.getElementById('load-more-btn'),\n};\n","import axios from 'axios';\nimport izitoast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst limit = 8; // default limit for pagination\n\nconst API_BASE_URL = 'https://sound-wave.b.goit.study/api';\nconst API_ARTISTS_ENDPOINT = `/artists`;\nconst API_GENRES_ENDPOINT = `/genres`;\nconst API_ARTISTS_ALBUMS_ENDPOINT = `/albums`;\nconst API_FEEDBACKS_ENDPOINT = `/feedbacks`;\n\nexport async function getArtists(\n  page = 1,\n  name = '',\n  sortName = '',\n  genre = ''\n) {\n  const params = {\n    limit,\n    page,\n    ...(name && { name }),\n    ...(sortName && { sortName }),\n    ...(genre && { genre }),\n  };\n  try {\n    const response = await axios.get(`${API_BASE_URL}${API_ARTISTS_ENDPOINT}`, {\n      params,\n    });\n    izitoast.success({\n      title: 'Success',\n      message: 'Artists fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch artists.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function getGenres() {\n  try {\n    const response = await axios.get(`${API_BASE_URL}${API_GENRES_ENDPOINT}`);\n    izitoast.success({\n      title: 'Success',\n      message: 'Genres fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch genres.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function getAlbumsByArtist(artistId) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}${API_ARTISTS_ENDPOINT}/${artistId}${API_ARTISTS_ALBUMS_ENDPOINT}`\n    );\n    izitoast.success({\n      title: 'Success',\n      message: 'Albums fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch albums.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function getArtistById(artistId) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}${API_ARTISTS_ENDPOINT}/${artistId}`\n    );\n    izitoast.success({\n      title: 'Success',\n      message: 'Artist fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch artist.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function getFeedbacks(page = 1) {\n  try {\n    const response = await axios.get(\n      `${API_BASE_URL}${API_FEEDBACKS_ENDPOINT}`,\n      {\n        params: { page },\n      }\n    );\n    izitoast.success({\n      title: 'Success',\n      message: 'Feedbacks fetched successfully!',\n      position: 'topRight',\n    });\n    return response.data;\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to fetch feedbacks.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function postFeedback(feedback) {\n  try {\n    const response = await axios.post(\n      `${API_BASE_URL}${API_FEEDBACKS_ENDPOINT}`,\n      feedback\n    );\n    izitoast.success({\n      title: 'Success',\n      message: 'Feedback submitted successfully!',\n      position: 'topRight',\n    });\n  } catch (error) {\n    izitoast.error({\n      title: 'Error',\n      message: 'Failed to submit feedback.',\n      position: 'topRight',\n    });\n  }\n}\n\nexport async function fetchArtists(page, limit) {\n  try {\n    const response = await axios.get(`${API_BASE_URL}${API_ARTISTS_ENDPOINT}`, {\n      params: { page, limit },\n    });\n    return response.data.artists || [];\n  } catch (error) {\n    console.error('Не вдалося завантажити артистів:', error);\n    return [];\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { refs } from './refs.js';\nimport { postFeedback } from './artists-api.js';\n\nconst {\n  loaderOverlay,\n  modalForm,\n  stars,\n  nameInput,\n  messageInput,\n  modalOverlay,\n  closeBtn,\n  feedbackBtn,\n} = refs;\n\nfunction showLoader() {\n  loaderOverlay.classList.remove('hidden');\n}\nfunction hideLoader() {\n  loaderOverlay.classList.add('hidden');\n}\n\n////////////////////////         Зірочки        ///////////////////////////////\nlet selectedRating = 0;\n\nstars.forEach((star, index) => {\n  star.addEventListener('mouseenter', () => {\n    updateStars(index + 1);\n  });\n  star.addEventListener('mouseleave', () => {\n    updateStars(selectedRating);\n  });\n\n  star.addEventListener('click', () => {\n    selectedRating = index + 1;\n    updateStars(selectedRating);\n  });\n});\n\nfunction updateStars(rating) {\n  stars.forEach((star, index) => {\n    if (index < rating) {\n      star.setAttribute('fill', '#a76cdb');\n    } else {\n      star.setAttribute('fill', '#ffffff');\n    }\n  });\n}\n/////////////////////////////  Закриття та відкриття  ////////////////////////////////\nfunction openModal() {\n  modalOverlay.classList.add('is-open');\n  document.querySelector('body').style.overflow = 'hidden !important';\n  document.querySelector('html').style.overflow = 'hidden !important';\n  document.querySelector('body').style.height = '100vh';\n  document.querySelector('html').style.height = '100vh';\n}\nfeedbackBtn.addEventListener('click', openModal);\n\nfunction closeModal() {\n  modalOverlay.classList.remove('is-open');\n  document.body.style.overflow = 'auto';\n}\n\ncloseBtn.addEventListener('click', closeModal);\n\nmodalOverlay.addEventListener('click', event => {\n  if (event.target === modalOverlay) {\n    closeModal();\n  }\n});\n\ndocument.addEventListener('keydown', e => {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n});\n/////////////////////////////////////////////////////////////////\nfunction validateForm() {\n  let isValid = true;\n  let messages = [];\n\n  if (nameInput.value.trim().length < 2 || nameInput.value.trim().length > 16) {\n    isValid = false;\n    messages.push('Name must be between 2 and 16 characters');\n  }\n  if (\n    messageInput.value.trim().length < 10 ||\n    messageInput.value.trim().length > 512\n  ) {\n    isValid = false;\n    messages.push('Message must be between 10 and 512 characters.');\n  }\n\n  if (selectedRating < 1 || selectedRating > 5) {\n    isValid = false;\n    messages.push('Rating must be between 1 and 5 stars.');\n  }\n\n  if (!isValid) {\n    messages.forEach(msg => {\n      iziToast.error({\n        title: 'Error',\n        message: msg,\n        position: 'topRight',\n        timeout: 3000,\n        pauseOnHover: true,\n      });\n    });\n  }\n  return isValid;\n}\n\nfunction resetForm() {\n  modalForm.reset();\n  updateStars(0);\n  selectedRating = 0;\n}\n\nmodalForm.addEventListener('submit', async e => {\n  e.preventDefault();\n\n  if (!validateForm()) {\n    return;\n  }\n  const data = {\n    name: nameInput.value.trim(),\n    rating: selectedRating,\n    descr: messageInput.value.trim(),\n  };\n\n  showLoader();\n\n  await postFeedback(data);\n\n  closeModal();\n  resetForm();\n  hideLoader();\n});\n","export default \"__VITE_ASSET__DO1$9C8$__\"","import spriteSVGArrowRightModal from '../img/sprite.svg?url';\n\nexport function renderArtistCards(artists, container) {\n  const markup = artists\n    .map(artist => {\n      const image =\n        artist.strArtistThumb ||\n        'https://via.placeholder.com/350x350?text=No+Image';\n      const genres =\n        artist.genres\n          ?.map(genre => `<li class=\"genre-tag\">${genre}</li>`)\n          .join('') || '';\n      const bio =\n        artist.strBiographyEN || 'Короткий опис для цього артиста відсутній.';\n\n      return `\n        <li class=\"artist-card\">\n          <img src=\"${image}\" alt=\"${artist.strArtist}\" class=\"artist-card-image\" />\n          <div class=\"artist-card-content\">\n            <ul class=\"artist-card-genres\">${genres}</ul>\n            <h3 class=\"artist-card-name\">${artist.strArtist}</h3>\n            <p class=\"artist-card-description\">${bio}</p>\n            <button id=\"learn-more-btn\" class=\"artist-card-link\" data-artist-id=\"${artist._id}\">Learn More <svg class=\"icon-lernmore\" width=\"24\" height=\"24\">\n      <use href=\"${spriteSVGArrowRightModal}#icon-caret-arrow-artist-right\"></use>\n    </svg></button>\n          </div>\n        </li>\n      `;\n    })\n    .join('');\n\n  container.insertAdjacentHTML('beforeend', markup);\n}\n","import { refs } from './refs.js';\n\nexport function onBtnOpenMenuClick() {\n  refs.headerMenuContainer.classList.add('is-open');\n  window.addEventListener('resize', onWindowResizeCloseMenu);\n\n  refs.menuAnchorAbout.addEventListener('click', onBtnCloseMenuClick);\n  refs.menuAnchorArtists.addEventListener('click', onBtnCloseMenuClick);\n  refs.menuAnchorReviews.addEventListener('click', onBtnCloseMenuClick);\n}\n\nexport function onBtnCloseMenuClick() {\n  refs.headerMenuContainer.classList.remove('is-open');\n  window.removeEventListener('resize', onWindowResizeCloseMenu);\n\n  refs.menuAnchorAbout.removeEventListener('click', onBtnCloseMenuClick);\n  refs.menuAnchorArtists.removeEventListener('click', onBtnCloseMenuClick);\n  refs.menuAnchorReviews.removeEventListener('click', onBtnCloseMenuClick);\n}\n\nfunction onWindowResizeCloseMenu() {\n  if (window.innerWidth >= 768) {\n    refs.headerMenuContainer.classList.remove('is-open');\n    window.removeEventListener('resize', onWindowResizeCloseMenu);\n  }\n}\n","import { refs } from './refs.js';\nimport { onBtnOpenMenuClick, onBtnCloseMenuClick } from './handlers';\n\nrefs.burgerBtnOpenMenu.addEventListener('click', onBtnOpenMenuClick);\nrefs.burgerBtnCloseMenu.addEventListener('click', onBtnCloseMenuClick);\n","import { fetchArtists } from './artists-api';\nimport { renderArtistCards } from './render-functions';\nimport { refs } from './refs';\n\nlet currentPage = 1;\nconst perPage = 8;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const artistsGrid = refs.artistsGrid;\n  const loadMoreBtn = refs.loadMoreBtn;\n\n  async function loadMoreArtists() {\n    loadMoreBtn.disabled = true;\n\n    const spinner = document.getElementById('spinner');\n    spinner.classList.remove('hidden');\n\n    const artists = await fetchArtists(currentPage, perPage);\n\n    spinner.classList.add('hidden');\n\n    if (artists.length > 0) {\n      renderArtistCards(artists, artistsGrid);\n      currentPage++;\n      if (artists.length < perPage) {\n        loadMoreBtn.style.display = 'none';\n      } else {\n        loadMoreBtn.style.display = 'flex';\n      }\n    } else {\n      loadMoreBtn.style.display = 'none';\n    }\n\n    loadMoreBtn.disabled = false;\n  }\n\n  loadMoreBtn.addEventListener('click', loadMoreArtists);\n\n  loadMoreArtists();\n});\n"],"names":["refs","API_BASE_URL","API_ARTISTS_ENDPOINT","API_FEEDBACKS_ENDPOINT","postFeedback","feedback","response","axios","izitoast","fetchArtists","page","limit","error","loaderOverlay","modalForm","stars","nameInput","messageInput","modalOverlay","closeBtn","feedbackBtn","showLoader","hideLoader","selectedRating","star","index","updateStars","rating","openModal","closeModal","event","e","validateForm","isValid","messages","msg","iziToast","resetForm","data","spriteSVGArrowRightModal","renderArtistCards","artists","container","markup","artist","image","genres","_a","genre","bio","onBtnOpenMenuClick","onWindowResizeCloseMenu","onBtnCloseMenuClick","currentPage","perPage","artistsGrid","loadMoreBtn","loadMoreArtists","spinner"],"mappings":"6vBAAO,MAAMA,EAAO,CAClB,kBAAmB,SAAS,cAAc,cAAc,EACxD,mBAAoB,SAAS,cAAc,aAAa,EACxD,oBAAqB,SAAS,cAAc,wBAAwB,EACpE,cAAe,SAAS,cAAc,YAAY,EAClD,UAAW,SAAS,cAAc,eAAe,EACjD,MAAO,SAAS,iBAAiB,mBAAmB,EACpD,UAAW,SAAS,cAAc,6BAA6B,EAC/D,aAAc,SAAS,cAAc,gCAAgC,EACrE,aAAc,SAAS,cAAc,gBAAgB,EACrD,SAAU,SAAS,cAAc,gBAAgB,EACjD,YAAa,SAAS,cAAc,eAAe,EACnD,gBAAiB,SAAS,cAAc,oBAAoB,EAC5D,kBAAmB,SAAS,cAAc,sBAAsB,EAChE,kBAAmB,SAAS,cAAc,sBAAsB,EAChE,YAAa,SAAS,eAAe,iBAAiB,EACtD,YAAa,SAAS,eAAe,eAAe,CACtD,ECXMC,EAAe,sCACfC,EAAuB,WAGvBC,EAAyB,aAmHxB,eAAeC,EAAaC,EAAU,CAC3C,GAAI,CACF,MAAMC,EAAW,MAAMC,EAAM,KAC3B,GAAGN,CAAY,GAAGE,CAAsB,GACxCE,CACN,EACIG,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,mCACT,SAAU,UAChB,CAAK,CACF,MAAe,CACdA,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,UAChB,CAAK,CACF,CACH,CAEO,eAAeC,EAAaC,EAAMC,EAAO,CAC9C,GAAI,CAIF,OAHiB,MAAMJ,EAAM,IAAI,GAAGN,CAAY,GAAGC,CAAoB,GAAI,CACzE,OAAQ,CAAE,KAAAQ,EAAM,MAAAC,CAAO,CAC7B,CAAK,GACe,KAAK,SAAW,EACjC,OAAQC,EAAO,CACd,eAAQ,MAAM,mCAAoCA,CAAK,EAChD,EACR,CACH,CCrJA,KAAM,CACJ,cAAAC,EACA,UAAAC,EACA,MAAAC,EACA,UAAAC,EACA,aAAAC,EACA,aAAAC,EACA,SAAAC,EACA,YAAAC,CACF,EAAIpB,EAEJ,SAASqB,GAAa,CACpBR,EAAc,UAAU,OAAO,QAAQ,CACzC,CACA,SAASS,GAAa,CACpBT,EAAc,UAAU,IAAI,QAAQ,CACtC,CAGA,IAAIU,EAAiB,EAErBR,EAAM,QAAQ,CAACS,EAAMC,IAAU,CAC7BD,EAAK,iBAAiB,aAAc,IAAM,CACxCE,EAAYD,EAAQ,CAAC,CACzB,CAAG,EACDD,EAAK,iBAAiB,aAAc,IAAM,CACxCE,EAAYH,CAAc,CAC9B,CAAG,EAEDC,EAAK,iBAAiB,QAAS,IAAM,CACnCD,EAAiBE,EAAQ,EACzBC,EAAYH,CAAc,CAC9B,CAAG,CACH,CAAC,EAED,SAASG,EAAYC,EAAQ,CAC3BZ,EAAM,QAAQ,CAACS,EAAMC,IAAU,CACzBA,EAAQE,EACVH,EAAK,aAAa,OAAQ,SAAS,EAEnCA,EAAK,aAAa,OAAQ,SAAS,CAEzC,CAAG,CACH,CAEA,SAASI,GAAY,CACnBV,EAAa,UAAU,IAAI,SAAS,EACpC,SAAS,cAAc,MAAM,EAAE,MAAM,SAAW,oBAChD,SAAS,cAAc,MAAM,EAAE,MAAM,SAAW,oBAChD,SAAS,cAAc,MAAM,EAAE,MAAM,OAAS,QAC9C,SAAS,cAAc,MAAM,EAAE,MAAM,OAAS,OAChD,CACAE,EAAY,iBAAiB,QAASQ,CAAS,EAE/C,SAASC,GAAa,CACpBX,EAAa,UAAU,OAAO,SAAS,EACvC,SAAS,KAAK,MAAM,SAAW,MACjC,CAEAC,EAAS,iBAAiB,QAASU,CAAU,EAE7CX,EAAa,iBAAiB,QAASY,GAAS,CAC1CA,EAAM,SAAWZ,GACnBW,GAEJ,CAAC,EAED,SAAS,iBAAiB,UAAWE,GAAK,CACpCA,EAAE,MAAQ,UACZF,GAEJ,CAAC,EAED,SAASG,GAAe,CACtB,IAAIC,EAAU,GACVC,EAAW,CAAA,EAEf,OAAIlB,EAAU,MAAM,KAAI,EAAG,OAAS,GAAKA,EAAU,MAAM,OAAO,OAAS,MACvEiB,EAAU,GACVC,EAAS,KAAK,0CAA0C,IAGxDjB,EAAa,MAAM,KAAM,EAAC,OAAS,IACnCA,EAAa,MAAM,KAAM,EAAC,OAAS,OAEnCgB,EAAU,GACVC,EAAS,KAAK,gDAAgD,IAG5DX,EAAiB,GAAKA,EAAiB,KACzCU,EAAU,GACVC,EAAS,KAAK,uCAAuC,GAGlDD,GACHC,EAAS,QAAQC,GAAO,CACtBC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,WACV,QAAS,IACT,aAAc,EACtB,CAAO,CACP,CAAK,EAEIF,CACT,CAEA,SAASI,GAAY,CACnBvB,EAAU,MAAK,EACfY,EAAY,CAAC,EACbH,EAAiB,CACnB,CAEAT,EAAU,iBAAiB,SAAU,MAAMiB,GAAK,CAG9C,GAFAA,EAAE,eAAc,EAEZ,CAACC,EAAY,EACf,OAEF,MAAMM,EAAO,CACX,KAAMtB,EAAU,MAAM,KAAM,EAC5B,OAAQO,EACR,MAAON,EAAa,MAAM,KAAM,CACpC,EAEEI,IAEA,MAAMjB,EAAakC,CAAI,EAEvBT,IACAQ,IACAf,GACF,CAAC,EC3ID,MAAeiB,EAAA,0DCER,SAASC,EAAkBC,EAASC,EAAW,CACpD,MAAMC,EAASF,EACZ,IAAIG,GAAU,OACb,MAAMC,EACJD,EAAO,gBACP,oDACIE,IACJC,EAAAH,EAAO,SAAP,YAAAG,EACI,IAAIC,GAAS,yBAAyBA,CAAK,SAC5C,KAAK,MAAO,GACXC,EACJL,EAAO,gBAAkB,6CAE3B,MAAO;AAAA;AAAA,sBAESC,CAAK,UAAUD,EAAO,SAAS;AAAA;AAAA,6CAERE,CAAM;AAAA,2CACRF,EAAO,SAAS;AAAA,iDACVK,CAAG;AAAA,mFAC+BL,EAAO,GAAG;AAAA,mBAC1EL,CAAwB;AAAA;AAAA;AAAA;AAAA,OAK3C,CAAK,EACA,KAAK,EAAE,EAEVG,EAAU,mBAAmB,YAAaC,CAAM,CAClD,CC9BO,SAASO,GAAqB,CACnClD,EAAK,oBAAoB,UAAU,IAAI,SAAS,EAChD,OAAO,iBAAiB,SAAUmD,CAAuB,EAEzDnD,EAAK,gBAAgB,iBAAiB,QAASoD,CAAmB,EAClEpD,EAAK,kBAAkB,iBAAiB,QAASoD,CAAmB,EACpEpD,EAAK,kBAAkB,iBAAiB,QAASoD,CAAmB,CACtE,CAEO,SAASA,GAAsB,CACpCpD,EAAK,oBAAoB,UAAU,OAAO,SAAS,EACnD,OAAO,oBAAoB,SAAUmD,CAAuB,EAE5DnD,EAAK,gBAAgB,oBAAoB,QAASoD,CAAmB,EACrEpD,EAAK,kBAAkB,oBAAoB,QAASoD,CAAmB,EACvEpD,EAAK,kBAAkB,oBAAoB,QAASoD,CAAmB,CACzE,CAEA,SAASD,GAA0B,CAC7B,OAAO,YAAc,MACvBnD,EAAK,oBAAoB,UAAU,OAAO,SAAS,EACnD,OAAO,oBAAoB,SAAUmD,CAAuB,EAEhE,CCtBAnD,EAAK,kBAAkB,iBAAiB,QAASkD,CAAkB,EACnElD,EAAK,mBAAmB,iBAAiB,QAASoD,CAAmB,ECArE,IAAIC,EAAc,EAClB,MAAMC,EAAU,EAEhB,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAAcvD,EAAK,YACnBwD,EAAcxD,EAAK,YAEzB,eAAeyD,GAAkB,CAC/BD,EAAY,SAAW,GAEvB,MAAME,EAAU,SAAS,eAAe,SAAS,EACjDA,EAAQ,UAAU,OAAO,QAAQ,EAEjC,MAAMjB,EAAU,MAAMhC,EAAa4C,EAAaC,CAAO,EAEvDI,EAAQ,UAAU,IAAI,QAAQ,EAE1BjB,EAAQ,OAAS,GACnBD,EAAkBC,EAASc,CAAW,EACtCF,IACIZ,EAAQ,OAASa,EACnBE,EAAY,MAAM,QAAU,OAE5BA,EAAY,MAAM,QAAU,QAG9BA,EAAY,MAAM,QAAU,OAG9BA,EAAY,SAAW,EACxB,CAEDA,EAAY,iBAAiB,QAASC,CAAe,EAErDA,GACF,CAAC"}