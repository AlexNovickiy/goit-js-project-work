import{a as L,i as f}from"./assets/vendor-DaFVmZDQ.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const n={burgerBtnOpenMenu:document.querySelector(".icon-burger"),burgerBtnCloseMenu:document.querySelector(".icon-close"),headerMenuContainer:document.querySelector(".header-menu-container"),loaderOverlay:document.querySelector(".loader-in"),modalForm:document.querySelector(".feedback-mod"),stars:document.querySelectorAll(".star-rating path"),nameInput:document.querySelector('.feedback-mod [name="name"]'),messageInput:document.querySelector('.feedback-mod [name="message"]'),modalOverlay:document.querySelector(".modal-overlay"),closeBtn:document.querySelector(".close-btn-mod"),feedbackBtn:document.querySelector(".feedback-btn"),menuAnchorAbout:document.querySelector("#menu-anchor-about"),menuAnchorArtists:document.querySelector("#menu-anchor-artists"),menuAnchorReviews:document.querySelector("#menu-anchor-reviews"),artistsGrid:document.getElementById("artists-card-id"),loadMoreBtn:document.getElementById("load-more-btn")},E="https://sound-wave.b.goit.study/api",M="/artists",q="/feedbacks";async function B(t){try{const e=await L.post(`${E}${q}`,t);f.success({title:"Success",message:"Feedback submitted successfully!",position:"topRight"})}catch{f.error({title:"Error",message:"Failed to submit feedback.",position:"topRight"})}}async function O(t,e){try{return(await L.get(`${E}${M}`,{params:{page:t,limit:e}})).data.artists||[]}catch(s){return console.error("Не вдалося завантажити артистів:",s),[]}}const{loaderOverlay:A,modalForm:w,stars:S,nameInput:h,messageInput:p,modalOverlay:u,closeBtn:I,feedbackBtn:C}=n;function R(){A.classList.remove("hidden")}function $(){A.classList.add("hidden")}let a=0;S.forEach((t,e)=>{t.addEventListener("mouseenter",()=>{l(e+1)}),t.addEventListener("mouseleave",()=>{l(a)}),t.addEventListener("click",()=>{a=e+1,l(a)})});function l(t){S.forEach((e,s)=>{s<t?e.setAttribute("fill","#a76cdb"):e.setAttribute("fill","#ffffff")})}function N(){u.classList.add("is-open"),document.querySelector("body").style.overflow="hidden !important",document.querySelector("html").style.overflow="hidden !important",document.querySelector("body").style.height="100vh",document.querySelector("html").style.height="100vh"}C.addEventListener("click",N);function m(){u.classList.remove("is-open"),document.body.style.overflow="auto"}I.addEventListener("click",m);u.addEventListener("click",t=>{t.target===u&&m()});document.addEventListener("keydown",t=>{t.key==="Escape"&&m()});function P(){let t=!0,e=[];return(h.value.trim().length<2||h.value.trim().length>16)&&(t=!1,e.push("Name must be between 2 and 16 characters")),(p.value.trim().length<10||p.value.trim().length>512)&&(t=!1,e.push("Message must be between 10 and 512 characters.")),(a<1||a>5)&&(t=!1,e.push("Rating must be between 1 and 5 stars.")),t||e.forEach(s=>{f.error({title:"Error",message:s,position:"topRight",timeout:3e3,pauseOnHover:!0})}),t}function F(){w.reset(),l(0),a=0}w.addEventListener("submit",async t=>{if(t.preventDefault(),!P())return;const e={name:h.value.trim(),rating:a,descr:p.value.trim()};R(),await B(e),m(),F(),$()});const T="/goit-js-project-work-team-1/assets/sprite-CMKpVNZW.svg";function _(t,e){const s=t.map(i=>{var g;const r=i.strArtistThumb||"https://via.placeholder.com/350x350?text=No+Image",o=((g=i.genres)==null?void 0:g.map(k=>`<li class="genre-tag">${k}</li>`).join(""))||"",d=i.strBiographyEN||"Короткий опис для цього артиста відсутній.";return`
        <li class="artist-card">
          <img src="${r}" alt="${i.strArtist}" class="artist-card-image" />
          <div class="artist-card-content">
            <ul class="artist-card-genres">${o}</ul>
            <h3 class="artist-card-name">${i.strArtist}</h3>
            <p class="artist-card-description">${d}</p>
            <button id="learn-more-btn" class="artist-card-link" data-artist-id="${i._id}">Learn More <svg class="icon-lernmore" width="24" height="24">
      <use href="${T}#icon-caret-arrow-artist-right"></use>
    </svg></button>
          </div>
        </li>
      `}).join("");e.insertAdjacentHTML("beforeend",s)}function j(){n.headerMenuContainer.classList.add("is-open"),window.addEventListener("resize",v),n.menuAnchorAbout.addEventListener("click",c),n.menuAnchorArtists.addEventListener("click",c),n.menuAnchorReviews.addEventListener("click",c)}function c(){n.headerMenuContainer.classList.remove("is-open"),window.removeEventListener("resize",v),n.menuAnchorAbout.removeEventListener("click",c),n.menuAnchorArtists.removeEventListener("click",c),n.menuAnchorReviews.removeEventListener("click",c)}function v(){window.innerWidth>=768&&(n.headerMenuContainer.classList.remove("is-open"),window.removeEventListener("resize",v))}n.burgerBtnOpenMenu.addEventListener("click",j);n.burgerBtnCloseMenu.addEventListener("click",c);let y=1;const b=8;document.addEventListener("DOMContentLoaded",()=>{const t=n.artistsGrid,e=n.loadMoreBtn;async function s(){e.disabled=!0;const i=document.getElementById("spinner");i.classList.remove("hidden");const r=await O(y,b);i.classList.add("hidden"),r.length>0?(_(r,t),y++,r.length<b?e.style.display="none":e.style.display="flex"):e.style.display="none",e.disabled=!1}e.addEventListener("click",s),s()});
//# sourceMappingURL=index.js.map
